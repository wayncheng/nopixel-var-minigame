(this["webpackJsonpnopixel-var-minigame"]=this["webpackJsonpnopixel-var-minigame"]||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),i=a(5),l=a.n(i),o=a(6),r=a(8),c=a(7),u=(a(13),a(1)),d=a(3),m=a.n(d),g=a(0);u.a.defaults({ease:"none",duration:3});var b=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.setState({count:n.props.count})},n.generateDestination=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,s={x:Math.round(e*Math.random()),y:Math.round(t*Math.random()),duration:u.a.utils.random(a,n,1)};return s},n.generateItinerary=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80,s=e-1.5*a,i=t-1.5*a,l=n.props,o=l.maxDuration,r=l.minDuration,c=[],u=0;u<10;u++){var d=n.generateDestination(s,i,r,o);c.push(d)}var m=n.generateDestination(s,i,r,o),g=c.map((function(e){return e.duration})).reduce((function(e,t){return e+t})),b={data:c,start:m,totalDuration:g};return b},n.setItinerary=function(){for(var e=document.getElementById("boundary"),t=e.offsetWidth,a=e.offsetHeight,s=Math.round(t/18),i=1;i<=n.state.count;i++){var l="#tile-".concat(i),o=u.a.timeline({autoRemoveChildren:!0,repeat:9}),r=n.generateItinerary(t,a,s),c=r.data,d=r.start;u.a.set(l,d);for(var m=0;m<c.length;m++)o.to(l,c[m])}n.setState({stage:"learning",status:"",failed:!1,passed:!1,index:1,tileSize:s})},n.handleTileClick=function(e){e.preventDefault();var t=e.target,a=parseInt(t.textContent);"postgame"!==n.state.stage&&(a===n.state.index&&a<n.state.count?(console.log("Correct"),n.setState({index:n.state.index+1})):a===n.state.index&&a===n.state.count?(console.log("Finished!"),u.a.globalTimeline.clear(),n.setState({passed:!0,stage:"postgame",status:"Passed"})):a>n.state.index?(console.log("Wrong"),u.a.globalTimeline.clear(),n.setState({failed:!0,stage:"postgame",status:"Failed"})):console.log("Repeat?"))},n.handleStartClick=function(e){e.preventDefault(),n.setItinerary();var t=setTimeout((function(){n.setState({stage:"playing"})}),1e3*n.props.learnDuration);n.setState({countdown:t})},n.handleCountChange=function(e){e.preventDefault();var t=e.target.value;n.reset(),n.setState({count:parseInt(t)})},n.reset=function(){console.log("=== RESET GAME ==>"),null!==n.state.countdown&&clearTimeout(n.state.countdown),n.setState({stage:"pregame",status:"",failed:!1,passed:!1,index:1,countdown:null}),u.a.globalTimeline.clear(),console.debug("globalTL children:",u.a.globalTimeline.getChildren())},n.render=function(){return Object(g.jsx)("div",{id:"app",className:m()("app",{"is-playing":"playing"===n.state.stage,"is-learning":"learning"===n.state.stage,"show-outlines":!0===n.state.showOutlines,"show-numbers":!0===n.state.showNumbers}),children:Object(g.jsxs)("main",{className:"container",children:[Object(g.jsx)("h1",{children:"NoPixel VAR Hacking Minigame"}),Object(g.jsxs)("div",{id:"boundary",className:"boundary",style:{fontSize:n.state.tileSize},children:[Array(n.state.count).fill("\ud83d\ude0e").map((function(e,t){var a=t+1,s=n.state.count-t;return Object(g.jsx)("div",{id:"tile-".concat(a),onClick:n.handleTileClick,className:m()("tile",{correct:a<n.state.index||!0===n.state.passed}),style:{zIndex:s},children:a},a)})),Object(g.jsxs)("div",{className:m()("overlay",{hidden:"pregame"!==n.state.stage&&"postgame"!==n.state.stage}),children:[Object(g.jsxs)("div",{className:"marquee",children:[Object(g.jsx)("i",{className:"fas fa-user-secret"}),"postgame"===n.state.stage&&""!==n.state.status&&Object(g.jsx)("h2",{children:!0===n.state.passed?"Security Clearance Accepted":"Failed Security Clearance"}),"pregame"===n.state.stage&&Object(g.jsxs)(s.a.Fragment,{children:[Object(g.jsx)("h2",{children:"Finger Print Not Recognized"}),Object(g.jsx)("p",{children:"Proof of Training Required"})]})]}),Object(g.jsx)("button",{type:"button",id:"start",className:"btn start-btn",onClick:n.handleStartClick,children:"Play VAR"})]}),Object(g.jsxs)("aside",{id:"controls",className:"toolbar",children:[Object(g.jsxs)("div",{className:"control-group count-group",children:[Object(g.jsx)("input",{type:"number",name:"count",id:"count",value:n.state.count,onChange:n.handleCountChange}),Object(g.jsx)("label",{htmlFor:"count",children:"Number of Tiles"})]}),Object(g.jsxs)("div",{className:"control-group right-group",children:[Object(g.jsxs)("div",{className:m()("control-group test-group",{hidden:!n.state.showExperimental}),children:[Object(g.jsx)("button",{id:"outlines",className:"btn btn-blank",onClick:n.toggleOutlines,title:"Show outlines",children:Object(g.jsx)("i",{className:"fas fa-vector-square"})}),Object(g.jsx)("button",{id:"numbers",className:"btn btn-blank",onClick:n.toggleNumbers,title:"Show numbers",children:Object(g.jsx)("i",{className:"far fa-eye"})}),Object(g.jsxs)("div",{className:m()("control-group playback-group"),children:[Object(g.jsx)("button",{id:"resume",className:"btn btn-blank",onClick:n.handleResume,title:"Resume movement",children:Object(g.jsx)("i",{className:"fas fa-play"})}),Object(g.jsx)("button",{id:"pause",className:"btn btn-blank",onClick:n.handlePause,title:"Pause movement",children:Object(g.jsx)("i",{className:"fas fa-pause"})})]})]}),Object(g.jsx)("button",{className:"btn btn-blank",id:"toggle-exp",onClick:n.toggleExperimental,title:"Experimental features that could be unstable",children:Object(g.jsx)("i",{className:"fas fa-flask"})})]})]})]})]})})},n.toggleNumbers=function(e){e.preventDefault(),n.setState({showNumbers:!n.state.showNumbers})},n.toggleOutlines=function(e){e.preventDefault(),n.setState({showOutlines:!n.state.showOutlines})},n.toggleExperimental=function(e){e.preventDefault(),n.setState({showExperimental:!n.state.showExperimental})},n.handlePause=function(e){e.preventDefault(),u.a.globalTimeline.pause()},n.handleResume=function(e){e.preventDefault(),u.a.globalTimeline.resume()},n.state={index:1,failed:!1,passed:!1,stage:"pregame",status:"",count:6,tileSize:80,countdown:null,showExperimental:!1,showOutlines:!1,showNumbers:!1},n}return a}(n.Component),h=b;b.defaultProps={count:6,maxDuration:4,minDuration:2,learnDuration:3},l.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(h,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.be3f2e39.chunk.js.map